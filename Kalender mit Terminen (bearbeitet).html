<!DOCTYPE html> <html lang="de"> <head> <meta charset="UTF-8"> <title>Kalender mit Terminen</title> <style> body { background-color: yellow; font-family: Arial, sans-serif; } table { border-collapse: collapse; background-color: white; margin: 20px auto; } th, td { border: 1px solid black; padding: 10px; text-align: center; } .current-day { background-color: #ffff99; } .selected-day { background-color: #99ccff; } .clickable { cursor: pointer; } .week-number { background-color: #f0f0f0; font-weight: bold; } .has-event { font-weight: bold; color: red; } .completed-event { text-decoration: line-through; color: green; } #controls, #eventForm, #eventList { margin: 20px; background-color: white; padding: 10px; border-radius: 5px; } </style> </head> <body> <div id="controls"> <h2 id="monthYear"></h2> <button onclick="changeMonth(-1)">Vorheriger Monat</button> <button onclick="changeMonth(1)">Nächster Monat</button> <button onclick="goToCurrentMonth()">Aktueller Monat</button> <button onclick="changeYear(-1)">Vorheriges Jahr</button> <button onclick="changeYear(1)">Nächstes Jahr</button> </div> <p id="selectedDate"></p> <table id="calendar"> <tr> <th>KW</th><th>Mo</th><th>Di</th><th>Mi</th><th>Do</th><th>Fr</th><th>Sa</th><th>So</th> </tr> </table> <div id="eventForm" style="display: none;"> <h3>Termin hinzufügen</h3> <input type="text" id="eventTitle" placeholder="Terminbeschreibung"> <button onclick="addEvent()">Termin speichern</button> </div> <div id="eventList"></div> <script> let currentDate = new Date(); let displayedDate = new Date(); let selectedDate = null; let events = {}; function getWeekNumber(d) { d = new Date(Date.UTC(d.getFullYear(), d.getMonth(), d.getDate())); d.setUTCDate(d.getUTCDate() + 4 - (d.getUTCDay() || 7)); var yearStart = new Date(Date.UTC(d.getUTCFullYear(), 0, 1)); var weekNo = Math.ceil((((d - yearStart) / 86400000) + 1) / 7); return weekNo; } function generateCalendar(year, month) { let firstDay = new Date(year, month, 1); let lastDay = new Date(year, month + 1, 0); document.getElementById('monthYear').innerText = firstDay.toLocaleString('de-DE', { month: 'long', year: 'numeric' }); let calendarBody = ''; let date = 1; let currentWeekNumber = getWeekNumber(new Date(year, month, 1)); let firstDayOfWeek = firstDay.getDay(); firstDayOfWeek = firstDayOfWeek === 0 ? 7 : firstDayOfWeek; for (let i = 0; i < 6; i++) { let row = '<tr>'; row += `<td class="week-number">${currentWeekNumber}</td>`; for (let j = 1; j <= 7; j++) { if (i === 0 && j < firstDayOfWeek) { row += '<td></td>'; } else if (date > lastDay.getDate()) { row += '<td></td>'; } else { let cellClass = 'clickable'; if (date === currentDate.getDate() && month === currentDate.getMonth() && year === currentDate.getFullYear()) { cellClass += ' current-day'; } if (selectedDate && date === selectedDate.getDate() && month === selectedDate.getMonth() && year === selectedDate.getFullYear()) { cellClass += ' selected-day'; } let dateString = `${year}-${month+1}-${date}`; if (events[dateString]) { cellClass += ' has-event'; } row += `<td class="${cellClass}" onclick="selectDate(${year}, ${month}, ${date})">${date}</td>`; date++; } } row += '</tr>'; calendarBody += row; if (date > lastDay.getDate()) break; currentWeekNumber = getWeekNumber(new Date(year, month, date)); } document.getElementById('calendar').innerHTML = document.getElementById('calendar').rows[0].outerHTML + calendarBody; } function changeMonth(delta) { displayedDate.setMonth(displayedDate.getMonth() + delta); generateCalendar(displayedDate.getFullYear(), displayedDate.getMonth()); } function changeYear(delta) { displayedDate.setFullYear(displayedDate.getFullYear() + delta); generateCalendar(displayedDate.getFullYear(), displayedDate.getMonth()); } function goToCurrentMonth() { displayedDate = new Date(); generateCalendar(displayedDate.getFullYear(), displayedDate.getMonth()); } function selectDate(year, month, day) { selectedDate = new Date(year, month, day); document.getElementById('selectedDate').innerText = `Ausgewähltes Datum: ${selectedDate.toLocaleDateString('de-DE')}`; document.getElementById('eventForm').style.display = 'block'; generateCalendar(displayedDate.getFullYear(), displayedDate.getMonth()); showEvents(); } function addEvent() { let eventTitle = document.getElementById('eventTitle').value; if (eventTitle && selectedDate) { let dateString = selectedDate.toISOString().split('T')[0]; if (!events[dateString]) { events[dateString] = []; } events[dateString].push({ title: eventTitle, completed: false }); document.getElementById('eventTitle').value = ''; generateCalendar(displayedDate.getFullYear(), displayedDate.getMonth()); showEvents(); } } function toggleEventCompletion(dateString, index) { events[dateString][index].completed = !events[dateString][index].completed; showEvents(); generateCalendar(displayedDate.getFullYear(), displayedDate.getMonth()); } function showEvents() { let eventList = document.getElementById('eventList'); eventList.innerHTML = ''; if (selectedDate) { let dateString = selectedDate.toISOString().split('T')[0]; if (events[dateString]) { let ul = document.createElement('ul'); events[dateString].forEach((event, index) => { let li = document.createElement('li'); li.className = event.completed ? 'completed-event' : ''; li.innerHTML = `<input type="checkbox" ${event.completed ? 'checked' : ''} onclick="toggleEventCompletion('${dateString}', ${index})"> ${event.title}`; ul.appendChild(li); }); eventList.appendChild(ul); } else { eventList.textContent = 'Keine Termine für dieses Datum.'; } } } generateCalendar(displayedDate.getFullYear(), displayedDate.getMonth()); </script> </body> </html>